From 14d2b1a1deb2ae591b369eb1f447fd0e39d3d1d6 Mon Sep 17 00:00:00 2001
From: Alexander Vorobyev <avorobyev@protonmail.com>
Date: Wed, 18 Nov 2020 12:58:35 +0300
Subject: Fix build error with libsrt 1.4.2

---
 modules/access/srt.c        | 2 +-
 modules/access_output/srt.c | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/modules/access/srt.c b/modules/access/srt.c
index c74ef75a08..8cfb9e461a 100644
--- a/modules/access/srt.c
+++ b/modules/access/srt.c
@@ -165,7 +165,7 @@ static bool srt_schedule_reconnect(stream_t *p_stream)
 
     /* Set latency */
     i_latency = var_InheritInteger( p_stream, "latency" );
-    srt_setsockopt( p_sys->sock, 0, SRTO_TSBPDDELAY,
+    srt_setsockopt( p_sys->sock, 0, SRTO_LATENCY,
         &i_latency, sizeof( int ) );
 
     psz_passphrase = var_InheritString( p_stream, "passphrase" );
diff --git a/modules/access_output/srt.c b/modules/access_output/srt.c
index f76bf52302..9080fed444 100644
--- a/modules/access_output/srt.c
+++ b/modules/access_output/srt.c
@@ -162,7 +162,7 @@ static bool srt_schedule_reconnect(sout_access_out_t *p_access)
 
     /* Set latency */
     i_latency = var_InheritInteger( p_access, "latency" );
-    srt_setsockopt( p_sys->sock, 0, SRTO_TSBPDDELAY,
+    srt_setsockopt( p_sys->sock, 0, SRTO_LATENCY,
         &i_latency, sizeof( int ) );
 
     if ( psz_passphrase != NULL && psz_passphrase[0] != '\0')
-- 
2.29.2

